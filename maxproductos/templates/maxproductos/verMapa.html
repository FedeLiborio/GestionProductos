{% extends "maxproductos/base.html" %}

{% block head %}
<style>
  #map {
    width: 70vw;
    height: 80vh;
  }
</style>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
{% endblock %}

{% block title %}
MAPA
{% endblock %}



{% block content %}

<hr>
<hr>
<hr>
<hr>

<div class="tab-pane container fade" id="menu1">
  <!-- <r:script>
                  <p>${lista[0].lat}</p>
            </r:script>  -->
  <div id="map">
    <script>
      function iniciarMapa() {
        var map = new google.maps.Map(document.getElementById("map"), {
          zoom: 13,
          center: { lat: -54.8, lng: -68.3 }
        });

        //Se envia una direccion por la url y se recibe un json con varios datos, entre ellos la latitud y longitud
        url = "https://maps.googleapis.com/maps/api/geocode/json?address=2134+Gobernador+PAz&key=AIzaSyAgnETqEf92aH6sMfZ8TT3oXpR1ZWubs0Y"
        $.getJSON(url, function (json) {
          latitud = json.results[0].geometry.location.lat;
          longitud = json.results[0].geometry.location.lng;

          punto = { lat: latitud, lng: longitud };
          var marker = new google.maps.Marker({ position: punto, map: map });
        }
        );
        //var latitudJson = myjson.results.geometry.location.lat;

        //var latitudJson = $.getJSON("https://maps.googleapis.com/maps/api/geocode/json?address=2134+Gobernador+PAz&key=AIzaSyAgnETqEf92aH6sMfZ8TT3oXpR1ZWubs0Y");

      }
    </script>
  </div>
</div>

<script async defer
  src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAgnETqEf92aH6sMfZ8TT3oXpR1ZWubs0Y&callback=iniciarMapa"></script>
{% endblock %}